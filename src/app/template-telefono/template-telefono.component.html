<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Tel√©fonos</title>

</head>

<body>
    <div class="form-container">
        <h2 class="form-title">üì± Registro de Tel√©fonos</h2>

        <form id="telefonoForm">
            <div class="form-group">
                <label for="numero" class="form-label">N√∫mero de Tel√©fono</label>
                <input type="tel" id="numero" name="numero" class="form-input" placeholder="Ej: +54 11 1234-5678"
                    required>
            </div>

            <div class="form-group">
                <label for="marca" class="form-label">Marca del Tel√©fono</label>
                <input type="text" id="marca" name="marca" class="form-input"
                    placeholder="Ej: Samsung, Apple, Huawei..." required>
            </div>

            <div class="form-group">
                <label for="persona" class="form-label">Persona Asociada</label>
                <select id="persona" name="persona" class="form-select" required>
                    <option value="">Seleccionar persona...</option>
                    <!-- Las opciones se cargar√°n din√°micamente -->
                </select>
            </div>

            <div class="form-buttons">
                <button type="submit" class="btn btn-primary">Guardar Tel√©fono</button>
                <button type="reset" class="btn btn-secondary">Limpiar</button>
            </div>
        </form>
        <button type="button" class="btn btn-secondary" routerLink="/menu">
            <i class="fas fa-arrow-left"></i>
            Volver al Men√∫
        </button>
    </div>

    <script>
        // Simulaci√≥n de datos de personas (aqu√≠ cargar√≠as tus datos reales)
        const personas = [
            { id: 1, nombre: "Juan P√©rez" },
            { id: 2, nombre: "Mar√≠a Gonz√°lez" },
            { id: 3, nombre: "Carlos Rodr√≠guez" },
            { id: 4, nombre: "Ana Mart√≠nez" },
            { id: 5, nombre: "Luis Garc√≠a" },
            { id: 6, nombre: "Carmen L√≥pez" },
            { id: 7, nombre: "Pedro S√°nchez" },
            { id: 8, nombre: "Laura Fern√°ndez" }
        ];

        // Funci√≥n para cargar personas en el select
        function cargarPersonas() {
            const selectPersona = document.getElementById('persona');

            personas.forEach(persona => {
                const option = document.createElement('option');
                option.value = persona.id;
                option.textContent = persona.nombre;
                selectPersona.appendChild(option);
            });
        }

        // Funci√≥n para manejar el env√≠o del formulario
        function manejarEnvio(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const telefono = {
                numero: formData.get('numero'),
                marca: formData.get('marca'),
                persona: formData.get('persona')
            };

            // Aqu√≠ puedes enviar los datos a tu servidor
            console.log('Datos del tel√©fono:', telefono);

            // Mostrar mensaje de √©xito (opcional)
            alert('Tel√©fono registrado correctamente!');

            // Limpiar el formulario
            event.target.reset();
        }

        // Funci√≥n para formatear el n√∫mero de tel√©fono
        function formatearTelefono(input) {
            let valor = input.value.replace(/\D/g, '');

            if (valor.length > 0) {
                if (valor.startsWith('54')) {
                    valor = '+' + valor;
                } else if (!valor.startsWith('+')) {
                    valor = '+54' + valor;
                }
            }

            input.value = valor;
        }

        // Inicializar cuando se carga la p√°gina
        document.addEventListener('DOMContentLoaded', function () {
            cargarPersonas();

            const form = document.getElementById('telefonoForm');
            form.addEventListener('submit', manejarEnvio);

            const numeroInput = document.getElementById('numero');
            numeroInput.addEventListener('blur', function () {
                formatearTelefono(this);
            });
        });
            </script>
    </body>
    
    </html>